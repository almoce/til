<!doctypehtml><meta charset=utf8><meta content="IE=edge"http-equiv=X-UA-Compatible><title>Map and WeakMap</title><link href=/css.css rel=stylesheet><link href=/highlight.css rel=stylesheet><div class=container><h1 id=map-and-weakmap>Map and WeakMap</h1><h3 id=map>Map</h3><p>key-value pairs and with insertion order of the keys, key and value can be objects or primitive values map has iterability<ul><li>map key can be any value(funciton, object, primitive), vs Object of keys must be String or a Symbol<li>the entrie is ordered by insertion, vs Object is not ordered by origin (ex, number keys)<li>Map.size() can retrieved from size, Object has be determined manually (ex, Object.keys)<li>is iterable, vs Object has no iteration protocal, but my get from(ex: for...of, for...in, Object.keys, Object.entries)</ul><h3 id=weakmap>WeakMap</h3><p>collection of key/value pair, and the <code>keys</code> must be object(Symbol and primitive are not allowed), <code>values</code> can be any javascript type weakmap has no iterability entrie are garbage collected dependented, which means if the object has been cleared by garbage collected, it would removed from weakmap automatically<p>instnace methods<ul><li>delete(key)<li>get(key)<li>has(key)<li>set(key, value)</ul><pre><code class="hljs language-javascript"><span class=hljs-keyword>let</span> a = <span class=hljs-keyword>new</span> <span class="hljs-title hljs-class">WeakMap</span>()
(<span class=hljs-function>() =></span> {
    <span class=hljs-keyword>let</span> b = {<span class=hljs-attr>b</span>: <span class=hljs-number>1</span>}
    a.<span class="hljs-function hljs-title">set</span>(b, <span class=hljs-number>1</span>)
})()
<span class=hljs-comment>// a = WeakMap{}</span>
</code></pre></div>