<!doctypehtml><meta charset=utf8><meta content="IE=edge"http-equiv=X-UA-Compatible><title>wegbl draw (drawArray, drawElements)</title><link href=/css.css rel=stylesheet><link href=/highlight.css rel=stylesheet><div class=container><h1 id=wegbl-draw-drawarray-drawelements>wegbl draw (drawArray, drawElements)</h1><h3 id=basic-drawing-array>basic drawing array</h3><p><strong><code>gl.drawArray(${mode}, ${offset}, ${count})</code></strong><ul><li><code>mode</code> of primitive (gl.TRIANGLES, gl.LINES, gl.POINTS, gl.LINE_STRIP, gl.LINE_LOOP, gl.TRIANGLE_FAN, gl.TRIANGLE_STRIP)<li><code>offset</code> starting vertex<li><code>count</code> of number of vertices to draw</ul><pre><code class="hljs language-javascript">gl.<span class="hljs-title hljs-function">drawArray</span>(gl.<span class=hljs-property>TRIANGLES</span>, <span class=hljs-number>0</span>, <span class=hljs-number>3</span>)
gl.<span class="hljs-title hljs-function">drawArray</span>(gl.<span class=hljs-property>LINES</span>, <span class=hljs-number>3</span>, <span class=hljs-number>2</span>)
</code></pre><h3 id=indexed-drawing-element>indexed drawing element</h3><blockquote><p>for the indexed element, to set the buffer data must be <code>Uint16Array</code><sup><a href=#user-content-fn-uint16array aria-describedby=footnote-label data-footnote-ref id=user-content-fnref-uint16array>1</a></sup></blockquote><p><strong><code>gl.drawElements(${mode}, ${count}, ${type}, ${offset})</code><sup><a href=#user-content-fn-drawelements aria-describedby=footnote-label data-footnote-ref id=user-content-fnref-drawelements>2</a></sup></strong><br>arguments are almost the same as drawArray, the extra argument data type:<ul><li><code>type</code>, specify the type of the value of elements, (gl.UNSIGNED_SHORT, gl.UNSIGNED_SHORT)</ul><pre><code class="hljs language-javascript">gl.<span class="hljs-title hljs-function">drawElements</span>(gl.<span class=hljs-property>POINTS</span>, <span class=hljs-number>8</span>, gl.<span class=hljs-property>UNSIGNED_BYTE</span>, <span class=hljs-number>0</span>);
gl.<span class="hljs-title hljs-function">drawElements</span>(gl.<span class=hljs-property>TRIANGLES</span>, <span class=hljs-number>9</span>, gl.<span class=hljs-property>UNSIGNED_SHORT</span>, <span class=hljs-number>0</span>)
</code></pre><p>when we have indexed element array buffer, ex:<pre><code class="hljs language-javascript"><span class=hljs-keyword>const</span> <span class="hljs-constant hljs-variable">VERTICES_SRC</span> = [
    <span class=hljs-number>0.18</span>,
    <span class=hljs-number>0.12</span>,
    <span class=hljs-number>0.23</span>,
    <span class=hljs-number>0.02</span>,
    <span class=hljs-number>0.37</span>,
    <span class=hljs-number>0.40</span>,
    <span class=hljs-number>0.16</span>
]
<span class=hljs-keyword>const</span> <span class="hljs-constant hljs-variable">INDICES_SRC</span> = [
    <span class=hljs-number>0</span>, <span class=hljs-number>1</span>, <span class=hljs-number>2</span>, <span class=hljs-comment>// first triangle indices</span>
    <span class=hljs-number>3</span>, <span class=hljs-number>4</span>, <span class=hljs-number>5</span>, <span class=hljs-comment>// second triangle indices</span>
    <span class=hljs-number>0</span>, <span class=hljs-number>2</span>, <span class=hljs-number>4</span> <span class=hljs-comment>// third triangle indices</span>
]

<span class=hljs-comment>// bind vertices buffer</span>
<span class=hljs-keyword>const</span> verticesBuffer = gl.<span class="hljs-title hljs-function">createBuffer</span>()
gl.<span class="hljs-title hljs-function">bindBuffer</span>(gl.<span class=hljs-property>ARRAY_BUFFER</span>, verticesBuffer)
gl.<span class="hljs-title hljs-function">bufferData</span>(gl.<span class=hljs-property>ARRAY_BUFFER</span>, <span class=hljs-keyword>new</span> <span class="hljs-title hljs-class">Float32Array</span>(<span class="hljs-constant hljs-variable">VERTICES_SRC</span>), gl.<span class=hljs-property>STATIC_DRAW</span>)


<span class=hljs-comment>// bind the indices buffer</span>
<span class=hljs-keyword>const</span> indicesBuffer = gl.<span class="hljs-title hljs-function">createBuffer</span>()
gl.<span class="hljs-title hljs-function">bindBuffer</span>(gl.<span class=hljs-property>ELEMENT_ARRAY_BUFFER</span>, indicesBuffer)
gl.<span class="hljs-title hljs-function">bufferData</span>(gl.<span class=hljs-property>ELEMENT_ARRAY_BUFFER</span>, <span class=hljs-keyword>new</span> <span class="hljs-title hljs-class">Uint16Array</span>(<span class="hljs-constant hljs-variable">INDICES_SRC</span>), gl.<span class=hljs-property>STATIC_DRAW</span>)


<span class=hljs-comment>// darw eleemnts</span>
gl.<span class="hljs-title hljs-function">drawElements</span>(gl.<span class=hljs-property>TRIANGLES</span>, <span class="hljs-constant hljs-variable">VERTICES_SRC</span>.<span class=hljs-property>length</span>, gl.<span class=hljs-property>UNSIGNED_SHORT</span>, <span class=hljs-number>0</span>)
</code></pre><hr><section class=footnotes data-footnotes><h2 class=sr-only id=footnote-label>Footnotes</h2><ol><li id=user-content-fn-uint16array><p><a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint16Array>MDN - Uint16Array</a> <a href=#user-content-fnref-uint16array aria-label="Back to content"class=data-footnote-backref data-footnote-backref>↩</a><li id=user-content-fn-drawelements><p><a href=https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/drawElements>MDN - WebGLRenderingContext.drawElements()</a> <a href=#user-content-fnref-drawelements aria-label="Back to content"class=data-footnote-backref data-footnote-backref>↩</a></ol></section></div>